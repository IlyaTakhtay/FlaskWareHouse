<!DOCTYPE html>
<html style="height: 100%; overflow:hidden" lang="en" xmlns="">
<head>
    <meta charset="UTF-8">
    <title>Basket</title>
    <link type="text/css" rel="stylesheet" href="{{url_for('static', filename='table.css')}}">
    <link type=" text/css" rel="stylesheet" href="{{url_for('static', filename='main.css')}}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/menu.css">
</head>

<style>
    .text-field__input {
      display: block;
      width: -webkit-fill-available;
      text-align:center;
      padding: 0.375rem 0.75rem;
      font-family: inherit;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: #212529;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #bdbdbd;
      border-radius: 0.25rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    input[type=number]{
    text-indent: 10px;
    }


    .basket {
    display: grid;
    text-align: center;
    grid-gap: 10px;
    height: fit-content;
    width: fit-content;
    margin: 0px auto;
    }






</style>

{% import 'customer_order_utils.html' as utils %}
<body style="background-image: url(../static/image/menu.jpg); width:80%; height:100%; margin: auto; padding-top: 5%;">
<div class="scroll-table">

    <table>
        <thead>
        <tr>
            {% for column in schema %}
            <th style="text-align:center"> {{column}}</th>
            {% endfor %}
        </tr>
        </thead>
    </table>
    <form action="" method="post">
        <div class="scroll-table" style="height:108px">
            <table class="table table-dark table-stripped table-hover">
                <tbody>
                <tr>
                    <td>
                        <input class="text-field__input " type="text" name="product_name" id="1" placeholder="Название"
                               required>
                    </td>
                    <td>
                        <input class="text-field__input" type="number" name="cost" min="1" id="2" placeholder="Цена"
                               value="1" required>
                    </td>
                    <td>
                        <input class="text-field__input" type="number" name="amount" id="3" min="1"
                               placeholder="Количество" value="1" required>
                    </td>
                    <td>
                        <input class="text-field__input" type="number" name="volume" id="4" min="1" placeholder="м³"
                               value="1" required>
                        <input type="hidden" name="form_id" value="item_form">
                    </td>
                </tr>
                {% if basket %}
                <tr>
                    <td colspan="4" style="text-align:center;border-radius:0px">
                        <input class="no" style="font-size:20px" type="submit" name="action" value="Добавить">
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4" style="text-align:center;">
                        <input class="no" style="font-size:20px" type="submit" name="action" value="Добавить">
                    </td>

                </tr>
                {% endif %}
                </tbody>
            </table>
        </div>
    </form>
    {% if basket %}
    <div class="scroll-table-body" style="height:320px">
        <table class="table table-dark table-striped table-hover">
            <tbody>

            {% for key in basket %}
            <tr>
                {{ utils.render_item(basket[key]) }}
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}
</div>

<div style="text-align:center;">
    {% if basket %}
    <a class="warning" style="width: fit-content:center;margin:center;font-size:20px;"
       href="{{url_for('blueprint_order.clear_basket')}}">Очистить корзину</a>
    {% else %}
    <p style="color:#FF4500;text-align: center; font-size:20px;">Корзина пустая</p>
    {% endif %}
</div>
{% if basket %}
<form style="text-align:center" action="{{url_for('blueprint_order.save_order')}}" method="post">
    <div style="display:inline-flex;padding-top:10px;" class="basket">
        <label style="color:white;font-family: 'Poppins', sans-serif;font-size:20px" class="text-field__label"
               for="date1">Хранить c</label>
        <input style="width:130px; height:30px;" class="text-field__input" type="date" name="start_date" id="date1">
        <label style="color:white;font-family: 'Poppins', sans-serif;font-size:20p" class="text-field__label"
               for="date2">Хранить до</label>
        <input style="width:130px; height:30px;" class="text-field__input" type="date" name="storing_date" id="date2">
        <input type="hidden" name="form_id" value="date_form">
    </div>
    <div style="padding-top:10px">
        <input style="font-size:20px" type="submit" name="action" value="Отправить">
    </div>
</form>
{% endif %}
<div style="display: block;margin: auto; text-align: center; padding: 2%;">
    <a style="text-align:center" href="{{url_for('menu_choice')}}">В меню </a><br><br>
</div>
</body>

</html>